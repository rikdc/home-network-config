---
# kube-state-metrics configuration
# Exposes Kubernetes object state metrics for external Prometheus scraping
kube-state-metrics:
  # Prometheus service annotations for auto-discovery
  prometheusScrape: true

  # Service configuration - expose via NodePort for external Prometheus
  service:
    type: NodePort
    nodePort: 30080
    annotations:
      prometheus.io/scrape: "true"
      prometheus.io/port: "8080"

  # Resource limits
  resources:
    requests:
      cpu: 10m
      memory: 32Mi
    limits:
      cpu: 200m
      memory: 128Mi

# prometheus-node-exporter configuration
# Runs as a DaemonSet on each node to export hardware/OS metrics
prometheus-node-exporter:
  # Deploy on all nodes
  hostNetwork: true
  hostPID: true

  # Prometheus service annotations for auto-discovery
  service:
    annotations:
      prometheus.io/scrape: "true"
      prometheus.io/port: "9100"

  # Resource limits
  resources:
    requests:
      cpu: 10m
      memory: 24Mi
    limits:
      cpu: 200m
      memory: 128Mi
